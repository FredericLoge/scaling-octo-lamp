<!DOCTYPE html>
<html lang="en"><head>
<script src="slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="slides_files/libs/quarto-html/popper.min.js"></script>
<script src="slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="slides_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.550">

  <meta name="author" content="FrÃ©dÃ©ric LogÃ©">
  <meta name="dcterms.date" content="2025-10-17">
  <title>Scaling with </title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/theme/quarto.css">
  <link href="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="slides_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
  <script src="slides_files/libs/jquery-1.12.4/jquery.min.js"></script>
  <script src="slides_files/libs/d3-3.5.6/d3.min.js"></script>
  <link href="slides_files/libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet">
  <script src="slides_files/libs/profvis-0.3.6.9000/profvis.js"></script>
  <script src="slides_files/libs/profvis-0.3.6.9000/scroll.js"></script>
  <link href="slides_files/libs/highlight-6.2.0/textmate.css" rel="stylesheet">
  <script src="slides_files/libs/highlight-6.2.0/highlight.js"></script>
  <script src="slides_files/libs/profvis-binding-0.3.8/profvis.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/moucherotte.jpg" data-background-opacity="0.5" class="quarto-title-block center">
  <h1 class="title">Scaling with <img data-src="img/logo_R.png" width="150"></h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
FrÃ©dÃ©ric LogÃ© 
</div>
<div class="quarto-title-author-email">
<a href="mailto:frederic.logemunerel@gmail.com">frederic.logemunerel@gmail.com</a>
</div>
</div>
</div>

  <p class="date">2025-10-17</p>
</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#/introduction" id="/toc-introduction">Introduction</a></li>
<li><a href="#/writing-efficient-code" id="/toc-writing-efficient-code">Writing efficient code</a></li>
<li><a href="#/parallel-treatment" id="/toc-parallel-treatment">Parallel treatment</a></li>
<li><a href="#/analytics-analysis-part-1" id="/toc-analytics-analysis-part-1">Analytics &amp; analysis (part 1)</a></li>
<li><a href="#/analytics-analysis-on-cluster" id="/toc-analytics-analysis-on-cluster">Analytics &amp; analysis on cluster</a></li>
<li><a href="#/resources" id="/toc-resources">Resources</a></li>
</ul>
</nav>
</section>
<section>
<section id="introduction" class="title-slide slide level1 center">
<h1>Introduction</h1>

</section>
<section id="data-science-lifecycle" class="slide level2 unlisted">
<h2>Data Science Lifecycle</h2>

<img data-src="img/data_science_life_cycle_v0.jpg" class="r-stretch quarto-figure-center"><p class="caption">Data Science Life cycle, <a href="https://unstop.com/blog/data-science-life-cycle">source</a></p></section>
<section id="what-are-we-going-to-work-on-today" class="slide level2 unlisted">
<h2>What are we going to work on today ?</h2>

<img data-src="img/data_science_life_cycle_v1.jpg" class="r-stretch quarto-figure-center"><p class="caption">Data Science Life cycle, <a href="https://unstop.com/blog/data-science-life-cycle">source</a></p></section>
<section id="what-are-the-tools-involved" class="slide level2 unlisted">
<h2>What are the tools involved ?</h2>

<img data-src="img/data_science_life_cycle_v2.jpg" class="r-stretch quarto-figure-center"><p class="caption">Data Science Life cycle, <a href="https://unstop.com/blog/data-science-life-cycle">source</a></p></section>
<section id="common-issues-with-large-datasets" class="slide level2 unlisted">
<h2>Common issues with large datasets</h2>
<p>Time, Memory, Crash</p>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="img/r_screen_not_responding.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="img/r_screen_allocation_error.jpeg"> <img data-src="img/r_screen_session_aborted.png"></p>
</div>
</div>
</section>
<section id="but-what-can-we-do" class="slide level2 unlisted">
<h2>But what can we do ?</h2>
<p>A not exhaustive list of what we may do:</p>
<ul>
<li><strong>Optimize your R code</strong> e.g.&nbsp;remove unnecessary loops, avoid data copy, loading unnecessary packages, etc, <code>Rcpp</code></li>
<li><strong>Rely on (most efficient) R packages</strong> e.g.&nbsp;<code>dplyr</code>, <code>data.table</code>, <code>arrow</code></li>
<li><strong>Run code in parallel</strong> e.g.&nbsp;<code>future</code> exploit hardware and distribute the work</li>
<li><strong>Upgrade sessionâ€™s available memory</strong> e.g.&nbsp;change RStudio config, get hardware update, setup virtual machine with higher memory config</li>
<li><strong>Delegate treatment</strong> e.g.&nbsp;<code>DBI</code>, <code>sparklyr</code>, <code>h2o</code> to perform operations with an engine more efficient than R</li>
<li><strong>Work on data samples</strong> e.g.&nbsp;active learning</li>
<li>Breakdown tasks in your data science life cycle: <strong>you cannot do everything in R</strong>.</li>
</ul>
</section></section>
<section>
<section id="writing-efficient-code" class="title-slide slide level1 center">
<h1>Writing efficient code</h1>

</section>
<section id="best-r-practice-recommendations" class="slide level2">
<h2>Best R practice recommendations</h2>
<ul>
<li><p>Cleanliness &amp; tidyness: avoid data copy, avoid garbage names throughout code, treat your RAM with kindness</p></li>
<li><p>Comments are mandatory, even if variable names are explicit</p></li>
<li><p>Work under RProject</p></li>
<li><p>If you wish to build something that should last (used by others, robust etc), developing as an R Package is mandatory. Not suitable when doing tutorials and trying a million different things though :/</p></li>
</ul>
</section>
<section id="timing" class="slide level2">
<h2>Timing</h2>
<p>When you are writing an R function, measuring itâ€™s execution time is good practice.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="co"># define a function</span></span>
<span id="cb1-2"><a href=""></a>foo <span class="ot">&lt;-</span> <span class="cf">function</span>(){ <span class="fu">return</span>(<span class="fu">sum</span>(<span class="dv">1</span><span class="sc">:</span><span class="fl">1e6</span>)) }</span>
<span id="cb1-3"><a href=""></a></span>
<span id="cb1-4"><a href=""></a><span class="co"># measure execution of the function, once</span></span>
<span id="cb1-5"><a href=""></a><span class="co"># user: actual CPU time for the process</span></span>
<span id="cb1-6"><a href=""></a><span class="co"># system: any indirect operation due to the process: I/O of files, GC, memory allocation, ...</span></span>
<span id="cb1-7"><a href=""></a><span class="co"># elapsed: total elapsed time</span></span>
<span id="cb1-8"><a href=""></a><span class="fu">system.time</span>({ <span class="fu">foo</span>() })</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.000   0.000   0.001 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="co"># repeat 50 times the function to get some statistics</span></span>
<span id="cb3-2"><a href=""></a>microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>({ <span class="fu">foo</span>() }, <span class="at">times =</span> <span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: nanoseconds
          expr min  lq     mean median  uq    max neval
 {     foo() } 164 164 13479.98    205 205 663831    50</code></pre>
</div>
</div>
</section>
<section id="profiling-code" class="slide level2">
<h2>Profiling code</h2>
<p>When your function (or general code) contains several instructions, profiling it allows you to see where exactly things go wrong. Hereâ€™s a vanilla example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="co"># note that in RStudio you can use the "Profile" menu identically</span></span>
<span id="cb5-2"><a href=""></a>profvis<span class="sc">::</span><span class="fu">profvis</span>({</span>
<span id="cb5-3"><a href=""></a>  r <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb5-4"><a href=""></a>  s <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-5"><a href=""></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fl">1e6</span>){</span>
<span id="cb5-6"><a href=""></a>    s <span class="ot">&lt;-</span> s <span class="sc">+</span> i</span>
<span id="cb5-7"><a href=""></a>    r[i] <span class="ot">&lt;-</span> i</span>
<span id="cb5-8"><a href=""></a>  }</span>
<span id="cb5-9"><a href=""></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="profvis html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8f9c3753d4fa776de971" style="width:100%;height:600px;"></div>
<script type="application/json" data-for="htmlwidget-8f9c3753d4fa776de971">{"x":{"message":{"prof":{"time":[1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13],"depth":[8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,9,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1,8,7,6,5,4,3,2,1],"label":["r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","<GC>","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis","r[i] <- i","doTryCatch","tryCatchOne","tryCatchList","tryCatchList","tryCatch","with_profvis_handlers","profvis::profvis"],"filenum":[1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null],"linenum":[7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null,7,null,null,null,null,null,null,null],"memalloc":[15.83474731445312,15.83474731445312,15.83474731445312,15.83474731445312,15.83474731445312,15.83474731445312,15.83474731445312,15.83474731445312,10.21261596679688,10.21261596679688,10.21261596679688,10.21261596679688,10.21261596679688,10.21261596679688,10.21261596679688,10.21261596679688,17.58341217041016,17.58341217041016,17.58341217041016,17.58341217041016,17.58341217041016,17.58341217041016,17.58341217041016,17.58341217041016,13.21575164794922,13.21575164794922,13.21575164794922,13.21575164794922,13.21575164794922,13.21575164794922,13.21575164794922,13.21575164794922,22.31747436523438,22.31747436523438,22.31747436523438,22.31747436523438,22.31747436523438,22.31747436523438,22.31747436523438,22.31747436523438,16.26479339599609,16.26479339599609,16.26479339599609,16.26479339599609,16.26479339599609,16.26479339599609,16.26479339599609,16.26479339599609,25.1683349609375,25.1683349609375,25.1683349609375,25.1683349609375,25.1683349609375,25.1683349609375,25.1683349609375,25.1683349609375,25.1683349609375,19.85803985595703,19.85803985595703,19.85803985595703,19.85803985595703,19.85803985595703,19.85803985595703,19.85803985595703,19.85803985595703,19.55484008789062,19.55484008789062,19.55484008789062,19.55484008789062,19.55484008789062,19.55484008789062,19.55484008789062,19.55484008789062,26.59951782226562,26.59951782226562,26.59951782226562,26.59951782226562,26.59951782226562,26.59951782226562,26.59951782226562,26.59951782226562,23.66262054443359,23.66262054443359,23.66262054443359,23.66262054443359,23.66262054443359,23.66262054443359,23.66262054443359,23.66262054443359,31.80726623535156,31.80726623535156,31.80726623535156,31.80726623535156,31.80726623535156,31.80726623535156,31.80726623535156,31.80726623535156,31.96786499023438,31.96786499023438,31.96786499023438,31.96786499023438,31.96786499023438,31.96786499023438,31.96786499023438,31.96786499023438],"meminc":[0,0,0,0,0,0,0,0,-5.62213134765625,0,0,0,0,0,0,0,7.370796203613281,0,0,0,0,0,0,0,-4.367660522460938,0,0,0,0,0,0,0,9.101722717285156,0,0,0,0,0,0,0,-6.052680969238281,0,0,0,0,0,0,0,8.903541564941406,0,0,0,0,0,0,0,0,-5.310295104980469,0,0,0,0,0,0,0,-0.3031997680664062,0,0,0,0,0,0,0,7.044677734375,0,0,0,0,0,0,0,-2.936897277832031,0,0,0,0,0,0,0,8.144645690917969,0,0,0,0,0,0,0,0.1605987548828125,0,0,0,0,0,0,0],"filename":["<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null,"<expr>",null,null,null,null,null,null,null]},"interval":10,"files":[{"filename":"<expr>","content":"# note that in RStudio you can use the \"Profile\" menu identically\nprofvis::profvis({\n  r <- c()\n  s <- 0\n  for(i in 1:1e6){\n    s <- s + i\n    r[i] <- i\n  }\n})","normpath":"<expr>"}],"prof_output":"/var/folders/r7/mrxb337n7079g836qxx31tzh0000gn/T//RtmpzCTHsF/file68366e3b6daa.prof","highlight":{"output":["^output\\$"],"gc":["^<GC>$"],"stacktrace":["^\\.\\.stacktraceo(n|ff)\\.\\.$"]},"split":"h"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="exercise-moving-average" class="slide level2">
<h2>Exercise: Moving Average</h2>
<div title="Moving Average">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Moving Average</strong></p>
</div>
<div class="callout-content">
<p>Input: x, numerical vector of length N</p>
<p>Output: y, numerical vector of same length, where <span class="math inline">\(y_i := (x_i-1)+x_i+(x_i+1)/3\)</span> if <span class="math inline">\(i &gt; 1\)</span> and <span class="math inline">\(i &lt; N\)</span>, otherwise <span class="math inline">\(y_i\)</span> is NA.</p>
<p>Propose some implementations of this function and use the timing functions seen previously to time yourselves.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution" class="slide level2">
<h2>Solution(?)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n=</span><span class="fl">1e6</span>)</span>
<span id="cb6-2"><a href=""></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb6-3"><a href=""></a></span>
<span id="cb6-4"><a href=""></a>ma_0 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, n){</span>
<span id="cb6-5"><a href=""></a>  y <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, n)</span>
<span id="cb6-6"><a href=""></a>  <span class="cf">for</span>(i <span class="cf">in</span> (<span class="dv">2</span><span class="sc">:</span>(n<span class="dv">-1</span>))){</span>
<span id="cb6-7"><a href=""></a>    y[i] <span class="ot">&lt;-</span> (x[i<span class="dv">-1</span>]<span class="sc">+</span>x[i]<span class="sc">+</span>x[i<span class="sc">+</span><span class="dv">1</span>])<span class="sc">/</span><span class="dv">3</span></span>
<span id="cb6-8"><a href=""></a>  }</span>
<span id="cb6-9"><a href=""></a>  <span class="fu">return</span>(y)</span>
<span id="cb6-10"><a href=""></a>}</span>
<span id="cb6-11"><a href=""></a></span>
<span id="cb6-12"><a href=""></a>ma_1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, n){</span>
<span id="cb6-13"><a href=""></a>  <span class="fu">return</span>((<span class="fu">c</span>(<span class="cn">NA</span>, x[<span class="dv">1</span><span class="sc">:</span>(n<span class="dv">-1</span>)]) <span class="sc">+</span> x <span class="sc">+</span> <span class="fu">c</span>(x[<span class="dv">2</span><span class="sc">:</span>n], <span class="cn">NA</span>))<span class="sc">/</span><span class="dv">3</span>)</span>
<span id="cb6-14"><a href=""></a>}</span>
<span id="cb6-15"><a href=""></a></span>
<span id="cb6-16"><a href=""></a>microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>(<span class="fu">ma_0</span>(<span class="at">x=</span>x, <span class="at">n=</span>n), <span class="fu">ma_1</span>(<span class="at">x=</span>x, <span class="at">n=</span>n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: milliseconds
               expr      min       lq     mean   median       uq      max neval
 ma_0(x = x, n = n) 70.60356 74.18450 77.02036 75.49027 77.47805 119.4600   100
 ma_1(x = x, n = n) 10.97320 13.21899 16.20814 14.16101 15.40983  45.8453   100</code></pre>
</div>
</div>
<p><strong>Vector</strong> operations are a must-use resource of R.</p>
</section>
<section id="why-still-create-our-own-r-functions" class="slide level2">
<h2>Why still create our own R functions ?</h2>
<p>If it exists in R and ruins decently well, then why rebuild it ?</p>
<p>There are many cases were we might not find our pick:</p>
<ul>
<li><p>Data simulation purposes</p></li>
<li><p>Statistical metrics</p></li>
<li><p>Optimization functions</p></li>
</ul>
<p>â€¦</p>
<ul>
<li>Because we donâ€™t know any other language ðŸ˜­</li>
</ul>
</section>
<section id="exercise-simulation-example" class="slide level2">
<h2>Exercise: Simulation Example</h2>
<div title="Simulation">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Simulation</strong></p>
</div>
<div class="callout-content">
<p>Consider the following dynamic system:</p>
<ul>
<li><p><span class="math inline">\(x_0\)</span> is in <span class="math inline">\([0;1]\)</span></p></li>
<li><p><span class="math inline">\(\lambda\)</span> is in <span class="math inline">\([0;4]\)</span></p></li>
</ul>
<p>Then, for all <span class="math inline">\(t \geq 1\)</span>:</p>
<p><span class="math inline">\(x_t = \lambda * x_{t-1} * (1 - x_{t-1})\)</span>.</p>
<p>Step 1. Code an R function which takes as input <span class="math inline">\((x_0, \lambda, n)\)</span> and returns output <span class="math inline">\(x_n\)</span>.</p>
<p>Step 2. Run the function for a uniform grid of <span class="math inline">\((x_0, \lambda)\)</span>, the size of your choosing.</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-to-step-1" class="slide level2">
<h2>Solution to step 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="fu">library</span>(Rcpp)</span>
<span id="cb8-2"><a href=""></a></span>
<span id="cb8-3"><a href=""></a>run_iteration <span class="ot">&lt;-</span> <span class="cf">function</span>(n_iter, x0, lambda){</span>
<span id="cb8-4"><a href=""></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n_iter){</span>
<span id="cb8-5"><a href=""></a>    x0 <span class="ot">&lt;-</span> lambda <span class="sc">*</span> x0 <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>x0)</span>
<span id="cb8-6"><a href=""></a>  }</span>
<span id="cb8-7"><a href=""></a>  <span class="fu">return</span>(x0)</span>
<span id="cb8-8"><a href=""></a>}</span>
<span id="cb8-9"><a href=""></a></span>
<span id="cb8-10"><a href=""></a><span class="fu">cppFunction</span>(<span class="st">"</span></span>
<span id="cb8-11"><a href=""></a><span class="st">          double run_iteration_cpp(int n_iter, double x0, double lambda) {</span></span>
<span id="cb8-12"><a href=""></a><span class="st">            for (int i = 0; i &lt; n_iter; i++) {</span></span>
<span id="cb8-13"><a href=""></a><span class="st">              x0 = lambda * x0 * (1.0 - x0);</span></span>
<span id="cb8-14"><a href=""></a><span class="st">            }</span></span>
<span id="cb8-15"><a href=""></a><span class="st">            return x0;</span></span>
<span id="cb8-16"><a href=""></a><span class="st">          }</span></span>
<span id="cb8-17"><a href=""></a><span class="st">        "</span>)</span>
<span id="cb8-18"><a href=""></a></span>
<span id="cb8-19"><a href=""></a>microbenchmark<span class="sc">::</span><span class="fu">microbenchmark</span>(<span class="fu">run_iteration</span>(<span class="at">n_iter=</span><span class="fl">1e6</span>, <span class="at">x=</span><span class="fl">0.5</span>, <span class="at">lambda=</span><span class="fl">3.8</span>), <span class="fu">run_iteration_cpp</span>(<span class="at">n_iter=</span><span class="fl">1e6</span>, <span class="at">x=</span><span class="fl">0.5</span>, <span class="at">lambda=</span><span class="fl">3.8</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Unit: milliseconds
                                                     expr       min        lq
     run_iteration(n_iter = 1e+06, x = 0.5, lambda = 3.8) 17.765874 19.007231
 run_iteration_cpp(n_iter = 1e+06, x = 0.5, lambda = 3.8)  2.634496  2.856409
      mean    median        uq       max neval
 19.441426 19.655154 19.833156 21.343288   100
  2.994166  3.042877  3.066574  3.728909   100</code></pre>
</div>
</div>
</section>
<section id="solution-to-step-2---plot" class="slide level2">
<h2>Solution to step 2 - plot</h2>
<p>See more info on this <a href="https://en.wikipedia.org/wiki/Feigenbaum_constants">over here</a>.</p>

<img data-src="slides_files/figure-revealjs/unnamed-chunk-5-1.png" width="960" class="r-stretch"></section>
<section id="memory" class="slide level2">
<h2>Memory</h2>
<p>Aside from time benchmarks, scanning our environment for large objects can always be useful.</p>
<ul>
<li><p><code>ls()</code> provides you the list of elements in your env</p></li>
<li><p><code>object.size(&lt;the element&gt;)</code> gives you its size (also <code>lobstr::obj_size(&lt;the element)</code>)</p></li>
<li><p><code>rm()</code> removes an object from the env</p></li>
<li><p><code>gc()</code> runs garbage collection (which runs periodically anyway so no need usually)</p></li>
</ul>
</section>
<section id="why-do-we-need-garbage-collection" class="slide level2">
<h2>Why do we need garbage collection ?</h2>
<ul>
<li>RHS data is created and bounded to one or more names</li>
<li>When a modification on RHS is requested, a copy is made.</li>
<li>When an element is removed from the environment, it removes the name and its bind to the value, but the value in memory is still taken, until the garbage collector does its job.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb10-2"><a href=""></a>b <span class="ot">&lt;-</span> a <span class="co"># make copy</span></span>
<span id="cb10-3"><a href=""></a></span>
<span id="cb10-4"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_addr</span>(a))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0x115b9cbe8"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_addr</span>(b))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0x115b9cbe8"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a>b[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb14-2"><a href=""></a></span>
<span id="cb14-3"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_addr</span>(a))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0x115b9cbe8"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_addr</span>(b))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0x114694ce8"</code></pre>
</div>
</div>
</section>
<section id="exercise-order-of-magnitude" class="slide level2">
<h2>Exercise: Order of Magnitude</h2>
<div title="Order of Magnitude">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Order of Magnitude</strong></p>
</div>
<div class="callout-content">
<p>Generate random datasets:</p>
<ul>
<li><p>vary the data types: numerical, boolean, categorical</p></li>
<li><p>vary the number of observations and columns</p></li>
</ul>
<p>For each dataset generated, compute the object size and make a nice visualization from it</p>
</div>
</div>
</div>
</div>
</section>
<section id="solution-1" class="slide level2">
<h2>Solution (?)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a>n <span class="ot">&lt;-</span> <span class="fl">1e6</span></span>
<span id="cb18-2"><a href=""></a></span>
<span id="cb18-3"><a href=""></a>vec_1_million <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n=</span>n)</span>
<span id="cb18-4"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_size</span>(vec_1_million))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>8.00 MB</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a>binary_vec_1_million <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">rnorm</span>(<span class="at">n=</span>n))</span>
<span id="cb20-2"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_size</span>(binary_vec_1_million))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>8.00 MB</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a>char_vec_1_million <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">rnorm</span>(<span class="at">n=</span>n))</span>
<span id="cb22-2"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_size</span>(char_vec_1_million))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>8.00 MB</code></pre>
</div>
</div>
<p>Conclusion ?</p>
</section>
<section id="to-confuse-you" class="slide level2">
<h2>To confuse you:</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a>char_vec_1_million <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">rnorm</span>(<span class="at">n=</span>n))</span>
<span id="cb24-2"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_size</span>(char_vec_1_million))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>8.00 MB</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a>toto <span class="ot">&lt;-</span> <span class="fu">list</span>(char_vec_1_million, char_vec_1_million, char_vec_1_million)</span>
<span id="cb26-2"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_size</span>(toto))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>8.00 MB</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a>toto[[<span class="dv">1</span>]][<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">9</span></span>
<span id="cb28-2"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_size</span>(toto))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>95.65 MB</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a>banana <span class="ot">&lt;-</span> <span class="st">"bananas bananas bananas"</span></span>
<span id="cb30-2"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_size</span>(banana))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>136 B</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href=""></a><span class="fu">print</span>(lobstr<span class="sc">::</span><span class="fu">obj_size</span>(<span class="fu">rep</span>(banana, <span class="dv">100</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>928 B</code></pre>
</div>
</div>
</section>
<section id="take-home-exercises" class="slide level2">
<h2>Take-Home Exercises</h2>
<ul>
<li><p>Write an efficient ifelse block statement taking as input a numerical vector, with the conditions of your choice</p></li>
<li><p>Investigate confusing memory examples in slide above</p></li>
<li><p>Rcpp implementation of optimization function e.g.&nbsp;Decision Tree</p></li>
</ul>
</section></section>
<section>
<section id="parallel-treatment" class="title-slide slide level1 center">
<h1>Parallel treatment</h1>

</section>
<section id="the-future-package" class="slide level2">
<h2>The <code>future</code> package</h2>
<p>If you look for resources around parallel programming, youâ€™ll inevitably found the following names: <code>snow</code>, <code>parallel</code>, <code>foreach</code> and <code>future</code>. Those are not the only ones but clearly the most popular.</p>
<p>In all instances, the code looks somewhat (if not a little more complex) like the one we shall use from the <code>future</code> package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href=""></a><span class="fu">library</span>(future)</span>
<span id="cb34-2"><a href=""></a><span class="fu">library</span>(doFuture)</span>
<span id="cb34-3"><a href=""></a></span>
<span id="cb34-4"><a href=""></a><span class="fu">plan</span>(multisession, <span class="at">workers=</span><span class="dv">1</span>) <span class="co"># of workers - to be changed</span></span>
<span id="cb34-5"><a href=""></a><span class="fu">system.time</span>({</span>
<span id="cb34-6"><a href=""></a>  x <span class="ot">&lt;-</span> <span class="fu">foreach</span>(<span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">%dofuture%</span> {</span>
<span id="cb34-7"><a href=""></a>    <span class="fu">Sys.sleep</span>(<span class="dv">2</span>)</span>
<span id="cb34-8"><a href=""></a>  }</span>
<span id="cb34-9"><a href=""></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.059   0.003   8.078 </code></pre>
</div>
</div>
</section>
<section id="all-for-one" class="slide level2">
<h2>All for one ?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href=""></a><span class="fu">plan</span>(multisession, <span class="at">workers=</span><span class="dv">4</span>)</span>
<span id="cb36-2"><a href=""></a></span>
<span id="cb36-3"><a href=""></a><span class="co"># choose a slow function</span></span>
<span id="cb36-4"><a href=""></a>slow_fct <span class="ot">&lt;-</span> <span class="cf">function</span>(x){ <span class="fu">Sys.sleep</span>(<span class="fl">1e-5</span>) ; <span class="fu">log</span>(x) }</span>
<span id="cb36-5"><a href=""></a></span>
<span id="cb36-6"><a href=""></a><span class="co"># main vector</span></span>
<span id="cb36-7"><a href=""></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fl">1e5</span>)</span>
<span id="cb36-8"><a href=""></a></span>
<span id="cb36-9"><a href=""></a><span class="co"># iterate through the list</span></span>
<span id="cb36-10"><a href=""></a><span class="fu">system.time</span>({</span>
<span id="cb36-11"><a href=""></a>  iter <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)</span>
<span id="cb36-12"><a href=""></a>  <span class="fu">foreach</span>(<span class="at">i=</span>iter, <span class="at">.combine=</span><span class="st">'c'</span>) <span class="sc">%dofuture%</span> {</span>
<span id="cb36-13"><a href=""></a>    <span class="fu">slow_fct</span>(x[i])</span>
<span id="cb36-14"><a href=""></a>  }</span>
<span id="cb36-15"><a href=""></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
 11.830   0.136  12.530 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href=""></a><span class="co"># iterate faster (especially in very large setting)</span></span>
<span id="cb38-2"><a href=""></a><span class="fu">system.time</span>({</span>
<span id="cb38-3"><a href=""></a>  iter <span class="ot">&lt;-</span> itertools<span class="sc">::</span><span class="fu">isplitIndices</span>(<span class="at">n=</span><span class="fu">length</span>(x), <span class="at">chunks=</span><span class="dv">4</span>)</span>
<span id="cb38-4"><a href=""></a>  <span class="fu">foreach</span>(<span class="at">i=</span>iter, <span class="at">.combine=</span><span class="st">'c'</span>) <span class="sc">%dofuture%</span> {</span>
<span id="cb38-5"><a href=""></a>    <span class="fu">slow_fct</span>(x[i])</span>
<span id="cb38-6"><a href=""></a>  }</span>
<span id="cb38-7"><a href=""></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.052   0.006   0.087 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href=""></a><span class="co"># baseline</span></span>
<span id="cb40-2"><a href=""></a><span class="fu">system.time</span>({</span>
<span id="cb40-3"><a href=""></a>  <span class="fu">sapply</span>(<span class="at">X=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x), <span class="at">FUN=</span><span class="cf">function</span>(i){ <span class="fu">slow_fct</span>(x[i]) })</span>
<span id="cb40-4"><a href=""></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   user  system elapsed 
  0.135   0.107   1.627 </code></pre>
</div>
</div>
</section></section>
<section>
<section id="analytics-analysis-part-1" class="title-slide slide level1 center">
<h1>Analytics &amp; analysis (part 1)</h1>

</section>
<section id="data-wrangling" class="slide level2 smaller">
<h2>Data Wrangling</h2>
<table>
<thead>
<tr class="header">
<th>Recommended max data size</th>
<th>Package</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>~100K</td>
<td><strong>base R</strong></td>
</tr>
<tr class="even">
<td>~1M</td>
<td><strong><code>readr</code>, <code>dplyr</code></strong></td>
</tr>
<tr class="odd">
<td>~10M</td>
<td><strong><code>data.table</code></strong></td>
</tr>
<tr class="even">
<td>Inf</td>
<td><strong><code>arrow</code>, <code>duckdb</code></strong></td>
</tr>
</tbody>
</table>
</section></section>
<section id="analytics-analysis-on-cluster" class="title-slide slide level1 center">
<h1>Analytics &amp; analysis on cluster</h1>
<p>db connection h2o spark</p>
</section>

<section>
<section id="resources" class="title-slide slide level1 center">
<h1>Resources</h1>

</section>
<section id="resources-1" class="slide level2 smaller unlisted">
<h2>Resources</h2>
<h3 id="textbooks">Textbooks</h3>
<p><a href="https://adv-r.hadley.nz/index.html">Advanced R, 2nd Edition</a>, <a href="https://book.utilitr.org/">utilitR book</a>, <a href="https://r-dev-perf.borishejblum.science/">Advanced R training</a></p>
<h3 id="benchmarks">Benchmarks</h3>
<p><a href="https://duckdblabs.github.io/db-benchmark/">Data Wrangling Benchmark 1</a>, <a href="https://ddotta.github.io/cookbook-rpolars/benchmarking.html">Data Wrangling Benchmark 2</a></p>
<h3 id="cheatsheets-documentation-links">Cheatsheets &amp; documentation links</h3>
<p><a href="https://media.datacamp.com/legacy/image/upload/v1653830846/Marketing/Blog/data_table_cheat_sheet.pdf">data.table</a>, <a href="https://dtplyr.tidyverse.org/reference/index.html">dtplyr</a>, <a href="https://spark.posit.co/images/homepage/sparklyr.pdf">sparklyr</a></p>
<h3 id="miscellaneous">Miscellaneous</h3>
<p><a href="https://aide-memoire-r-sas.netlify.app/">SAS to R</a></p>
<div class="quarto-auto-generated-content">
<p><img src="img/logo-cepe.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>